(this.webpackJsonpinstantgram=this.webpackJsonpinstantgram||[]).push([[0],{115:function(e,t,a){e.exports=a(166)},126:function(e,t,a){},127:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),o=a(19),i=a(12),s=a(96),u=a.n(s),m=a(21),d=a(39),p=a(98),h=a(10),E="https://asia-east2-fir-crud-8d71b.cloudfunctions.net/api",g={authenticated:!1,credentials:null,likes:[],notifications:[]},b={screams:null},f={loading:!1,errors:{}},v=[p.a],y=Object(d.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(h.a)(Object(h.a)({},e),{},{authenticated:!0});case"SET_UNAUTHENTICATED":return{initialState:g,authenticated:!1};case"SET_USER":return Object(h.a)(Object(h.a)({},t.payload),{},{authenticated:!0});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCREAMS":return{screams:t.payload};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_UI":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"UNLOADING_UI":return Object(h.a)(Object(h.a)({},e),{},{loading:!1});case"SET_ERRORS":return{loading:!1,errors:t.payload};case"CLEAR_ERRORS":return Object(h.a)(Object(h.a)({},e),{},{errors:{}});default:return e}}}),O=Object(d.e)(y,{},Object(d.d)(d.a.apply(void 0,v),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),j=a(201),w=a(68),N=a.n(w),R=(a(126),a(127),a(15)),S=a(16),T=a(18),C=a(17),x=a(202),_=a(28),A=a.n(_),U=a(193),I=a(195),L=a(204),k=a(196),D=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.ui.loading,a=e.authenticated;return r.a.createElement(U.a,null,r.a.createElement(I.a,{className:"toolbarcenter"},r.a.createElement(L.a,{color:"inherit",component:o.b,to:"/"},"Homes"),a?r.a.createElement(L.a,{color:"inherit",component:o.b,to:"/logout"},"Logout"):r.a.createElement("div",null,r.a.createElement(L.a,{color:"inherit",component:o.b,to:"/login"},"Login"),r.a.createElement(L.a,{color:"inherit",component:o.b,to:"/signup"},"Register"))),t?r.a.createElement(k.a,null):r.a.createElement("div",null))}}]),a}(n.Component),F=Object(m.b)((function(e){return{ui:e.ui,authenticated:e.user.authenticated}}))(D),W=a(72),H=a.n(W),P=a(102),B=a.n(P),G=a(197),M=a(199),V=a(198),X=a(200),z=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){H.a.extend(B.a);var e=this.props,t=e.shout,a=t.body,n=t.userHandle,l=t.userImgPic,c=t.createdAt,i=e.classes;return r.a.createElement(G.a,{className:i.card},r.a.createElement(V.a,{image:l,title:"Profile Picture",className:i.image}),r.a.createElement(M.a,null,r.a.createElement(X.a,{variant:"h5",color:"primary",component:o.b,to:"/users/".concat(n)},n),r.a.createElement(X.a,{variant:"body2",color:"textSecondary"},H()(c).fromNow()),r.a.createElement(X.a,{variant:"body1",className:i.content,color:"textPrimary"},a)))}}]),a}(n.Component),J=A()((function(e){return Object(h.a)({},e.shouts)}))(z),$=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user.credentials,n=a.userHandle,l=a.imageURL,c=a.bio,i=a.location;return r.a.createElement(G.a,null,r.a.createElement(V.a,{image:l,title:"Profile Picture",className:t.image}),r.a.createElement(M.a,null,r.a.createElement(X.a,{variant:"h5",color:"primary",component:o.b,to:"/users/".concat(n)},n),r.a.createElement(X.a,{variant:"body2",color:"textSecondary"},c),r.a.createElement(X.a,{variant:"body1",color:"textPrimary"},i)))}}]),a}(n.Component),q=Object(m.b)((function(e){return{user:e.user}}))(A()((function(e){return Object(h.a)({},e.profile)}))($)),K=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"ph-item"},r.a.createElement("div",{className:"ph-col-12"},r.a.createElement("div",{className:"ph-picture"}),r.a.createElement("div",{className:"ph-row"},r.a.createElement("div",{className:"ph-col-6 big"}),r.a.createElement("div",{className:"ph-col-4 empty big"}),r.a.createElement("div",{className:"ph-col-2 big"}),r.a.createElement("div",{className:"ph-col-4"}),r.a.createElement("div",{className:"ph-col-8 empty"}),r.a.createElement("div",{className:"ph-col-6"}),r.a.createElement("div",{className:"ph-col-6 empty"}),r.a.createElement("div",{className:"ph-col-12"})))))}}]),a}(n.Component),Q=a(31),Y=a.n(Q),Z=function(){return function(e){localStorage.removeItem("FBIdToken"),delete Y.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"}),e({type:"CLEAR_ERRORS"})}},ee=function(e){var t="Bearer ".concat(e);Y.a.defaults.headers.common.Authorization=t},te=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t)},ae=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllScreams(),this.props.getUserData()}},{key:"render",value:function(){var e=this.props.classes,t=this.props.data.screams?this.props.data.screams.map((function(e){return r.a.createElement(J,{shout:e,key:e.screamID})})):r.a.createElement("div",{className:e.placeHolder},r.a.createElement(K,null)),a=this.props.user.credentials?r.a.createElement(q,null):r.a.createElement("div",{className:e.placeHolder},r.a.createElement(K,null));return r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement("div",{className:"container"},r.a.createElement(x.a,{container:!0},r.a.createElement(x.a,{item:!0,sm:8,xs:12},t),r.a.createElement(x.a,{item:!0,sm:4,xs:12},a))))}}]),a}(n.Component),ne={getUserData:function(){return function(e){Y.a.get("".concat(E,"/users/view")).then((function(t){e({type:"SET_USER",payload:t.data})})).catch((function(e){return console.log(e)}))}},getAllScreams:function(){return function(e){Y.a.get("".concat(E,"/screams")).then((function(t){e({type:"SET_SCREAMS",payload:t.data})})).catch((function(e){return console.log(e.response)}))}}},re=Object(m.b)((function(e){return{data:e.data,user:e.user}}),ne)(A()((function(e){return Object(h.a)(Object(h.a)({},e.loginRegister),e.marginLeftRight)}))(ae)),le=a(43),ce=a(62),oe=a.n(ce),ie=a(203),se=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){var e;return Object(R.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(le.a)({},t.target.name,t.target.value))},e.state={email:"",password:""},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.ui,n=a.loading,l=a.errors;return r.a.createElement("div",{className:"container"},r.a.createElement(F,null),r.a.createElement(x.a,{container:!0,className:t.formContainer},r.a.createElement(x.a,{item:!0,sm:!0}),r.a.createElement(x.a,{item:!0,sm:!0},r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("img",{src:oe.a,height:"100%",width:"100%",alt:"asdsa"})),r.a.createElement("br",null),n?r.a.createElement("h3",null,"Logging in..."):r.a.createElement("h3",null,"Login Account"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},l.Login&&r.a.createElement("div",{className:"error"},l.Login),r.a.createElement("h4",null,"Email Address"),r.a.createElement(ie.a,{className:t.textField,label:"Enter your email address",id:"email",name:"email",type:"email",onChange:this.handleChange,error:!!l.email,helperText:l.email,disabled:!!n,value:this.state.email,fullWidth:!0}),r.a.createElement("h4",null,"Password"),r.a.createElement(ie.a,{className:t.textField,label:"Enter your password",id:"password",name:"password",type:"password",onChange:this.handleChange,helperText:l.password,error:!!l.password,disabled:!!n,value:this.state.password,fullWidth:!0}),r.a.createElement(L.a,{className:t.button,variant:"contained",color:"primary",type:"submit",disabled:!!n},"Submit")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(X.a,null,"Dont have an account? ",r.a.createElement(o.b,{to:"/signup"}," Sign Up Now!"))),r.a.createElement(x.a,{item:!0,sm:!0})))}}]),a}(n.Component),ue={loginUser:function(e,t){return function(a){a({type:"LOADING_UI"}),Y.a.post("".concat(E,"/login"),e).then((function(e){a({type:"UNLOADING_UI"}),a({type:"CLEAR_ERRORS"}),te(e.data.Token),ee(e.data.Token),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}},me=Object(m.b)((function(e){return{user:e.user,ui:e.ui}}),ue)(A()((function(e){return Object(h.a)({},e.loginRegister)}))(se)),de=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){var e;return Object(R.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password,cpassword:e.state.cpassword,userHandle:e.state.userhandle};e.props.signupUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(le.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",cpassword:"",userhandle:""},e}return Object(S.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.ui,n=a.errors,l=a.loading;return r.a.createElement("div",{className:"container"},r.a.createElement(F,null),r.a.createElement(x.a,{container:!0,className:t.formContainer},r.a.createElement(x.a,{item:!0,sm:!0}),r.a.createElement(x.a,{item:!0,sm:!0},r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("img",{src:oe.a,height:"100%",width:"100%",alt:"asdsa"})),r.a.createElement("br",null),l?r.a.createElement("h3",null,"Signing up..."):r.a.createElement("h3",null,"Account Registration"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},n.Registration&&r.a.createElement("div",{className:"error"},n.Registration),r.a.createElement("h4",null,"Email Address"),r.a.createElement(ie.a,{className:t.textField,label:"Enter your email address",id:"email",name:"email",type:"email",onChange:this.handleChange,error:!!n.email,helperText:n.email,disabled:!!l,value:this.state.email,fullWidth:!0}),r.a.createElement("h4",null,"Password"),r.a.createElement(ie.a,{className:t.textField,label:"Enter your password",id:"password",name:"password",type:"password",onChange:this.handleChange,helperText:n.password,error:!!n.password,disabled:!!l,value:this.state.password,fullWidth:!0}),r.a.createElement("h4",null,"Confirm Password"),r.a.createElement(ie.a,{className:t.textField,label:"Re-enter your password",id:"cpassword",name:"cpassword",type:"password",onChange:this.handleChange,helperText:n.cpassword,error:!!n.cpassword,disabled:!!l,value:this.state.cpassword,fullWidth:!0}),r.a.createElement("h4",null,"Username"),r.a.createElement(ie.a,{className:t.textField,label:"Enter your desired username",id:"userhandle",name:"userhandle",onChange:this.handleChange,helperText:n.userhandle,error:!!n.userhandle,disabled:!!l,value:this.state.userhandle,fullWidth:!0}),r.a.createElement(L.a,{className:t.button,variant:"contained",color:"primary",type:"submit",disabled:!!l},"Submit")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(X.a,null,"Already have an account? ",r.a.createElement(o.b,{to:"/login"}," Login Now!"))),r.a.createElement(x.a,{item:!0,sm:!0})))}}]),a}(n.Component),pe=Object(m.b)((function(e){return{ui:e.ui}}),{signupUser:function(e,t){return function(a){a({type:"LOADING_UI"}),Y.a.post("".concat(E,"/signup"),e).then((function(e){a({type:"UNLOADING_UI"}),a({type:"CLEAR_ERRORS"}),te(e.data.Token),ee(e.data.Token),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(A()((function(e){return Object(h.a)({},e.loginRegister)}))(de)),he=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return this.props.logoutUser(),this.props.history.push("/login"),r.a.createElement("div",null)}}]),a}(n.Component),Ee={logoutUser:Z},ge=Object(m.b)(null,Ee)(he),be=localStorage.FBIdToken;be?1e3*u()(be).exp<Date.now()?O.dispatch(Z()):Y.a.defaults.headers.common.Authorization=be:O.dispatch(Z());var fe=N()({palette:{primary:{light:"#81c784",main:"#4caf50",contrastText:"#fff"},secondary:{light:"#81c784",main:"#388e3c",contrastText:"#fff"}},loginRegister:{formContainer:{fontWeight:"bold",color:"#434343"},pageImage:{textAlign:"center"},textField:{marginTop:-10},button:{marginTop:20},progress:{marginBottom:20}},marginLeftRight:{placeHolder:{marginLeft:10,marginRight:10}},shouts:{card:{display:"flex",marginBottom:10,marginRight:10},image:{minWidth:100,margin:5,borderRadius:5},content:{objectFit:"cover"}},profile:{card:{display:"flex"},image:{height:240,Width:100,marginTop:20,marginLeft:50,marginRight:50,borderRadius:5},content:{objectFit:"cover"}}});var ve=function(){return r.a.createElement(j.a,{theme:fe},r.a.createElement(m.a,{store:O},r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:re}),r.a.createElement(i.a,{exact:!0,path:"/login",component:me}),r.a.createElement(i.a,{exact:!0,path:"/signup",component:pe}),r.a.createElement(i.a,{exact:!0,path:"/logout",component:ge})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){e.exports=a.p+"static/media/logo.469b19fe.png"}},[[115,1,2]]]);
//# sourceMappingURL=main.485ff64b.chunk.js.map